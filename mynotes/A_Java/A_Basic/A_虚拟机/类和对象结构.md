## 类和对象结构
***

### 对象的存储结构
* 对象头 (Header)
* 实例数据 (Instance Data)
* 对齐填充 (Padding)
#### 对象头结构
##### Mark World
存储对象自身的运行时数据。
* 哈希码
* GC分代年龄
* 锁状态标志
* 线程持有的锁
* 偏向线程ID
* 偏向时间戳

运行期间Mark Word里存储的值会随着锁标志位的变化而变化。
锁状态|25bit|4bit|1bit (是否偏向锁) |25bit (锁标志位)
:-|:-|:-|:-|:-
无锁状态|对象的HashCode|对象分代年龄|0|01
偏向锁|线程ID和Epoch|对象分代年龄|1|01
轻量级锁|指向栈中锁记录的指针|||00
重量级锁|指向重量级锁的指针|||10
GC标记|空|||11

##### 类型指针
对象指向它的类元数据的指针，JVM通过这个指针来确定这个对象类型 (即哪个类的实例) 。但不是所有JVM都必须在对象数据上保留类型指针，即对象的元数据不一定要通过对象本身。
***
