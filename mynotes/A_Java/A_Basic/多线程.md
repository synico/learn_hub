# 多线程

#### 1. 进程和线程的区别
进程拥有一套独立的变量，而进程则会共享变量数据。

#### 2. 创建线程的两种方式
1) 继承Thread类并覆写其run方法。  
2) 实现Runnable接口并实现run方法，再将实现Runnable接口的对象传给Thread的构造函数。

#### 3. 并发的正确执行，需要保证以下三点：
1) 可见性  
2) 原子性  
3) 有序性

# Thread

#### 1. 线程状态
1) New（新生）
使用new操作符创建一个新线程时，该线程还没开始运行。  
2) Runnable（可运行）
调用Thread.start方法时，线程处于Runnable状态，不代表线程正在运行。  
3) Blocked（被阻塞）
当一个线程试图获取一个内部的对象锁（不是java.util.concurrent库中的锁），而该锁被其他线程持有，则该线程进入阻塞状态。  
4) Waiting（等待）
当线程等待另一个线程通知调度器一个条件时，它自己进入等待状态。如调用Object.wait()或Thread.join()，或是等待java.util.concurrent库中的Lock或Condition时，线程进入等待状态。  
5) Timed waiting（计时等待）
当调用带有超时参数的方法，调用的线程进入计时等待状态。这种状态将一直保持到超时期满或接收到适当的通知。如调用Thread.sleep(n)，Object.wait(n)，Thread.join(n)，Lock.tryLock(n)和Condition.await(n)时。  
6) Terminated（被终止）
run方法正常退出而正常死亡，如遇到代码return;。或遇到未捕获的异常而意外死亡。

#### Thread.interrupt方法
1) interrupt方法可以请求终止线程，但不保证线程一定终端而不继续运行。  
2) 如果线程被阻塞(处于阻塞，等待，计时等待状态)时调用interrupt方法会导致终止请求失败，并抛出InterruptedException异常。
